<div class="home-container">
    <div class="toolbar">
        <div class="search-bar">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
            <input type="text" id="searchInput" placeholder="Rechercher dans mes notes...">
        </div>
        <button id="openFilterBtn" class="filter-trigger">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-funnel-icon lucide-funnel"><path d="M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"/></svg>
        </button>
    </div>

    <div id="annotationList" class="gridView" style="grid-template-columns: 1fr; grid-auto-rows: unset;"></div>

    <div id="noteModal" class="hidden modal">
        <div class="book-card book-card-modal">
            <h3 id="modalTitle" style="margin-bottom: 15px; color: var(--background-color);">Nouvelle Annotation</h3>
            
            <div class="input-wrapper">
                <label>Livre</label>
                <select id="noteBookSelect" class="status-select"></select>
            </div>

            <div class="input-wrapper">
                <label>Citation (Optionnel)</label>
                <textarea id="noteQuote" placeholder="Le texte original du livre..." style="height: 60px; resize: none;"></textarea>
            </div>

            <div class="input-wrapper">
                <label>Note / Pens√©e</label>
                <textarea id="noteText" placeholder="Ce que vous en pensez..." style="height: 100px; resize: none;" required></textarea>
            </div>

            <div class="input-wrapper" style="flex: 1;">
                <label>Page</label>
                <input type="number" id="notePage" placeholder="Ex: 42">
            </div>

            <div class="input-wrapper" style="flex: 2;">
                <label>Image</label>
                <input type="file" id="noteImage" accept="image/*">
            </div>

            <div style="display: flex; flex-direction: column; gap: var(--s-gap); margin-top: 10px;">
                <div style="display: flex; gap: var(--s-gap);">
                    <button id="closeNoteModal" class="btn-secondary" style="flex:1">Annuler</button>
                    <button id="saveNoteBtn" class="btn-success" style="flex:2">Enregistrer</button>
                </div>
                <button id="deleteNoteBtn" class="btn-danger hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" style="margin-right: 5px;" width="16px" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2-icon lucide-trash-2"><path d="M10 11v6"/><path d="M14 11v6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                    Supprimer la note
                </button>
            </div>
        </div>
    </div>

    <button id="addNoteBtn" class="fab-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-icon lucide-plus"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
    </button>
</div>
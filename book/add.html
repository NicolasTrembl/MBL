<div class="add-container">
    <div class="mode-selector">
        <button id="modeSearch" class="active">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
            Recherche
        </button>
        <button id="modeScan">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-scan-barcode-icon lucide-scan-barcode"><path d="M3 7V5a2 2 0 0 1 2-2h2"/><path d="M17 3h2a2 2 0 0 1 2 2v2"/><path d="M21 17v2a2 2 0 0 1-2 2h-2"/><path d="M7 21H5a2 2 0 0 1-2-2v-2"/><path d="M8 7v10"/><path d="M12 7v10"/><path d="M17 7v10"/></svg>
            Scanner
        </button>
        <button id="modeManual">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pen-tool-icon lucide-pen-tool"><path d="M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"/><path d="m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"/><path d="m2.3 2.3 7.286 7.286"/><circle cx="11" cy="11" r="2"/></svg>
            Manuel
        </button>
    </div>

    <div class="interaction-zone">
        <div id="viewSearch" class="input-group">
            <div class="autocomplete-wrapper">
                <input type="text" id="bookInput" placeholder="Titre, auteur, n°ISBN...">
                <ul id="suggestions" class="suggestions-list hidden"></ul>
            </div>
        </div>

        <div id="viewScan" class="input-group hidden">
            <div id="reader"></div>
            <div class="scan-controls">
                <p id="scanError" class="error-msg hidden">Livre non trouvé.</p>
                </div>
        </div>
    </div>

    <div id="bookDetails" class="details-card">
        <div id="coverWrapper" class="cover-wrapper" style="cursor: pointer;">
            <img id="prevCover" src="" alt="Couverture">
            <input type="file" id="coverInput" accept="image/*" class="hidden">
            <p id="uploadHint" class="hidden" style="font-size: 0.7rem; text-align: center;">Cliquer pour changer</p>
        </div>
        
        <div class="fields-group">
            <input type="text" id="detailTitle" placeholder="Titre du livre">
            <input type="text" id="detailAuthor" placeholder="Auteur">
            <input type="number" id="detailYear" placeholder="Année de parution">
            <button id="saveBookBtn" class="btn-success">Enregistrer</button>
        </div>
    </div>
</div>